<div
  id="login-container"
  class="container flex items-center justify-center mx-auto"
>
  <div *ngIf="!isLoaded" style="text-align: center">
    <app-loading-spinner></app-loading-spinner>
  </div>

  <div *ngIf="isLoaded" class="w-full max-w-xs">
    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
      class="px-8 pt-6 pb-8 mb-4 bg-white rounded shadow-md dark:bg-gray-900"
    >
      <div class="mb-4">
        <label
          class="block mb-2 text-sm font-bold text-gray-700 dark:text-gray-300"
          for="email"
        >
          Email
        </label>
        <input
          formControlName="email"
          class="w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none dark:text-gray-300 focus:outline-none focus:ring dark:bg-gray-900 dark:hover:bg-gray-800"
          id="email"
          type="text"
          placeholder="email"
          autocomplete="on"
          (focusout)="validateEmail()"
        />
        <p *ngIf="!isEmailValid" class="text-xs italic text-red-500">
          The email is not valid
        </p>
      </div>
      <div class="mb-6">
        <label
          class="block mb-2 text-sm font-bold text-gray-700 dark:text-gray-300"
          for="password"
        >
          Password
        </label>
        <input
          formControlName="password"
          class="w-full px-3 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:ring dark:bg-gray-900 dark:hover:bg-gray-800"
          id="password"
          type="password"
          placeholder="******************"
          autocomplete="on"
        />
        <!-- <p class="text-xs italic text-red-500">Please choose a password.</p> -->
      </div>
      <div class="flex items-center justify-between">
        <button
          class="px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:ring"
          (click)="onSubmit()"
          type="button"
          [disabled]="this.form.invalid"
          [ngClass]="{
            'opacity-50 cursor-not-allowed': this.form.invalid
          }"
        >
          Sign In
        </button>
        <!-- <a
          class="inline-block text-sm font-bold text-blue-500 align-baseline hover:text-blue-800"
          href="#"
        >
          Forgot Password?
        </a> -->
      </div>
    </form>
    <p class="text-xs text-center text-white">
      &copy;2020 Tastyn. All rights reserved.
    </p>
  </div>
  <div
    *ngIf="error"
    class="px-2 py-4 text-center bg-green-900 notification lg:px-4"
  >
    <div
      class="flex items-center p-2 leading-none text-green-100 bg-green-800 lg:rounded-full lg:inline-flex"
      role="alert"
    >
      <span
        class="flex px-2 py-1 mr-3 text-xs font-bold uppercase bg-green-500 rounded-full"
        >Error</span
      >
      <span class="flex-auto mr-2 font-semibold text-left">{{ error }}</span>
    </div>
  </div>
</div>
